(function() {

	function $id(id) {
		return document.getElementById(id);
	}

	function Output(msg) {
		var m = $id("messages");
		m.innerHTML += msg;
	}

	function Callicalendar(text)
	{		
		icalParser.parseIcal(text);
		//icalParser.ical is now set
		icalParser.ical.version; 
		icalParser.ical.prodid;
		
	 for(var key in icalParser.ical.events)
	 {
         console.log("------");
		 console.log("Event N°"+key+ " : ");
	     console.log("DSTART VALUE : " +icalParser.ical.events[key].dtstart['value']);
	     console.log("DSTAMP VALUE : " +icalParser.ical.events[key].dtstamp['value']);
	     console.log("DTEND VALUE : " +icalParser.ical.events[key].dtend['value']);
	     console.log("UID VALUE : " +icalParser.ical.events[key].uid['value']);
		 console.log("ACTION VALUE : " +icalParser.ical.events[key].action['value']);
         console.log("------");	 
	 }	
	}


	// file drag hover
	function FileDragHover(e) {
		e.stopPropagation();
		e.preventDefault();
		e.target.className = (e.type == "dragover" ? "hover" : "");
		
	}

	// file selection
	function FileSelectHandler(e) {

		// cancel event and hover styling
		FileDragHover(e);

		// fetch FileList object
		var files = e.target.files || e.dataTransfer.files;

		// process all File objects
		for (var i = 0, f; f = files[i]; i++) {
			getCalendar(f);
		}

	}

	function getCalendar(file)
	{
	var ext = file.name.split(".").pop().toLowerCase();
	var selectedFile = file;
	var reader = new FileReader();
    reader.readAsText(selectedFile);
	 console.log("ok 1");
	reader.onload = function() {
	   var  doc = reader.result;
	  // console.log(doc);
		Callicalendar(doc);
		Output("<p><strong>" + file.name + "</strong>");
	};
	}
	
	// initialize
	function Init() {
	
	/*var encodedData= "QkVHSU46VkNBTEVOREFSDQpQUk9ESUQ6LS8vTWljcm9zb2Z0IENvcnBvcmF0aW9uLy9PdXRsb29rIDE0LjAgTUlNRURJUi8vRU4NClZFUlNJT046Mi4wDQpNRVRIT0Q6UFVCTElTSA0KWC1DQUxTVEFSVDoyMDEyMDQxMlQxNjAwMDBaDQpYLUNBTEVORDoyMDE0MDgxN1QwODAwMDBaDQpYLVdSLVJFTENBTElEOnswMDAwMDAyRS05MjFDLTJDNDMtRTExRC1CMTQxM0UwMDc1RkN9DQpYLVdSLUNBTE5BTUU6Y2xlbWVudCBsYXZhYnJlDQpYLVBSSU1BUlktQ0FMRU5EQVI6VFJVRQ0KWC1PV05FUjtDTj0iY2xlbWVudCBsYXZhYnJlIjptYWlsdG86Y2xlbWVudC1sYXZhYnJlQGhvdG1haWwuZnINClgtTVMtT0xLLVdLSFJTVEFSVDtUWklEPSJQYXJpcywgTWFkcmlkIjowODAwMDANClgtTVMtT0xLLVdLSFJFTkQ7VFpJRD0iUGFyaXMsIE1hZHJpZCI6MTcwMDAwDQpYLU1TLU9MSy1XS0hSREFZUzpNTyxUVSxXRSxUSCxGUg0KQkVHSU46VlRJTUVaT05FDQpUWklEOlBhcmlzLCBNYWRyaWQNCkJFR0lOOlNUQU5EQVJEDQpEVFNUQVJUOjE2MDExMDI4VDAzMDAwMA0KUlJVTEU6RlJFUT1ZRUFSTFk7QllEQVk9LTFTVTtCWU1PTlRIPTEwDQpUWk9GRlNFVEZST006KzAyMDANClRaT0ZGU0VUVE86KzAxMDANCkVORDpTVEFOREFSRA0KQkVHSU46REFZTElHSFQNCkRUU1RBUlQ6MTYwMTAzMjVUMDIwMDAwDQpSUlVMRTpGUkVRPVlFQVJMWTtCWURBWT0tMVNVO0JZTU9OVEg9Mw0KVFpPRkZTRVRGUk9NOiswMTAwDQpUWk9GRlNFVFRPOiswMjAwDQpFTkQ6REFZTElHSFQNCkVORDpWVElNRVpPTkUNCkJFR0lOOlZFVkVOVA0KRFRFTkQ6MjAxMjA0MTJUMTcwMDAwWg0KRFRTVEFNUDoyMDE0MDQxNVQwODU5MjhaDQpEVFNUQVJUOjIwMTIwNDEyVDE2MDAwMFoNClNFUVVFTkNFOjANClNVTU1BUlk7TEFOR1VBR0U9ZnI6T2NjdXBlKGUpDQpUUkFOU1A6T1BBUVVFDQpVSUQ6clY1cUwzdjdZVXFVcWJUeFlzNFNLdz09DQpYLU1JQ1JPU09GVC1DRE8tQlVTWVNUQVRVUzpCVVNZDQpFTkQ6VkVWRU5UDQpCRUdJTjpWRVZFTlQNCkRURU5EOjIwMTIwNDE0VDEwMDAwMFoNCkRUU1RBTVA6MjAxNDA0MTVUMDg1OTI4Wg0KRFRTVEFSVDoyMDEyMDQxNFQwOTAwMDBaDQpTRVFVRU5DRTowDQpTVU1NQVJZO0xBTkdVQUdFPWZyOk9jY3VwZShlKQ0KVFJBTlNQOk9QQVFVRQ0KVUlEOnhDVHZKN3V2dzBLMFdRTFoxeG42eUE9PQ0KWC1NSUNST1NPRlQtQ0RPLUJVU1lTVEFUVVM6QlVTWQ0KRU5EOlZFVkVOVA0KQkVHSU46VkVWRU5UDQpEVEVORDoyMDEyMDUxOVQwODAwMDBaDQpEVFNUQU1QOjIwMTQwNDE1VDA4NTkyOFoNCkRUU1RBUlQ6MjAxMjA1MTlUMDcwMDAwWg0KU0VRVUVOQ0U6MA0KU1VNTUFSWTtMQU5HVUFHRT1mcjpPY2N1cGUoZSkNClRSQU5TUDpPUEFRVUUNClVJRDp5QkhXOFpNL2drZW56QVB3REw4SmZBPT0NClgtTUlDUk9TT0ZULUNETy1CVVNZU1RBVFVTOkJVU1kNCkVORDpWRVZFTlQNCkJFR0lOOlZFVkVOVA0KRFRFTkQ6MjAxMjA2MDNUMTMwMDAwWg0KRFRTVEFNUDoyMDE0MDQxNVQwODU5MjhaDQpEVFNUQVJUOjIwMTIwNjAzVDEwMDAwMFoNClNFUVVFTkNFOjANClNVTU1BUlk7TEFOR1VBR0U9ZnI6T2NjdXBlKGUpDQpUUkFOU1A6T1BBUVVFDQpVSUQ6Mk1tRmM0dE53MGVIWTE4UmpPeWNXdz09DQpYLU1JQ1JPU09GVC1DRE8tQlVTWVNUQVRVUzpCVVNZDQpFTkQ6VkVWRU5UDQpCRUdJTjpWRVZFTlQNCkRURU5EOjIwMTIwNjIxVDA4MDAwMFoNCkRUU1RBTVA6MjAxNDA0MTVUMDg1OTI4Wg0KRFRTVEFSVDoyMDEyMDYyMVQwNzAwMDBaDQpTRVFVRU5DRTowDQpTVU1NQVJZO0xBTkdVQUdFPWZyOk9jY3VwZShlKQ0KVFJBTlNQOk9QQVFVRQ0KVUlEOlBzeElOeDhZdjBXaTRIYzRrNnVZc0E9PQ0KWC1NSUNST1NPRlQtQ0RPLUJVU1lTVEFUVVM6QlVTWQ0KRU5EOlZFVkVOVA0KQkVHSU46VkVWRU5UDQpEVEVORDoyMDEyMDcwNVQwODAwMDBaDQpEVFNUQU1QOjIwMTQwNDE1VDA4NTkyOFoNCkRUU1RBUlQ6MjAxMjA3MDVUMDcwMDAwWg0KU0VRVUVOQ0U6MA0KU1VNTUFSWTtMQU5HVUFHRT1mcjpPY2N1cGUoZSkNClRSQU5TUDpPUEFRVUUNClVJRDp0ZUpRL0FoTWtVcW9KMGRINmFRalFBPT0NClgtTUlDUk9TT0ZULUNETy1CVVNZU1RBVFVTOkJVU1kNCkVORDpWRVZFTlQNCkJFR0lOOlZFVkVOVA0KRFRFTkQ6MjAxMzAzMTNUMTEwMDAwWg0KRFRTVEFNUDoyMDE0MDQxNVQwODU5MjhaDQpEVFNUQVJUOjIwMTMwMzEzVDA5MDAwMFoNClNFUVVFTkNFOjANClNVTU1BUlk7TEFOR1VBR0U9ZnI6T2NjdXBlKGUpDQpUUkFOU1A6T1BBUVVFDQpVSUQ6dnBLaWRLQmMzMHFHYW5YZjN1QXhtUT09DQpYLU1JQ1JPU09GVC1DRE8tQlVTWVNUQVRVUzpCVVNZDQpFTkQ6VkVWRU5UDQpCRUdJTjpWRVZFTlQNCkRURU5EOjIwMTMwMzIwVDExMDAwMFoNCkRUU1RBTVA6MjAxNDA0MTVUMDg1OTI4Wg0KRFRTVEFSVDoyMDEzMDMyMFQwOTAwMDBaDQpTRVFVRU5DRTowDQpTVU1NQVJZO0xBTkdVQUdFPWZyOk9jY3VwZShlKQ0KVFJBTlNQOk9QQVFVRQ0KVUlEOkIzem1LWFVnY2tTN0pWdW1wSXBwdXc9PQ0KWC1NSUNST1NPRlQtQ0RPLUJVU1lTVEFUVVM6QlVTWQ0KRU5EOlZFVkVOVA0KQkVHSU46VkVWRU5UDQpEVEVORDoyMDEzMDMyN1QxMTAwMDBaDQpEVFNUQU1QOjIwMTQwNDE1VDA4NTkyOFoNCkRUU1RBUlQ6MjAxMzAzMjdUMDkwMDAwWg0KU0VRVUVOQ0U6MA0KU1VNTUFSWTtMQU5HVUFHRT1mcjpPY2N1cGUoZSkNClRSQU5TUDpPUEFRVUUNClVJRDpoTzlhR05IVHdraW1mVEhkUVZDVzdBPT0NClgtTUlDUk9TT0ZULUNETy1CVVNZU1RBVFVTOkJVU1kNCkVORDpWRVZFTlQNCkJFR0lOOlZFVkVOVA0KRFRFTkQ6MjAxMzA0MDNUMTAwMDAwWg0KRFRTVEFNUDoyMDE0MDQxNVQwODU5MjhaDQpEVFNUQVJUOjIwMTMwNDAzVDA4MDAwMFoNClNFUVVFTkNFOjANClNVTU1BUlk7TEFOR1VBR0U9ZnI6T2NjdXBlKGUpDQpUUkFOU1A6T1BBUVVFDQpVSUQ6SVhEdkJ2MUVNVTI2bUNvbSs3d1h3UT09DQpYLU1JQ1JPU09GVC1DRE8tQlVTWVNUQVRVUzpCVVNZDQpFTkQ6VkVWRU5UDQpCRUdJTjpWRVZFTlQNCkRURU5EOjIwMTMwNDEwVDEwMDAwMFoNCkRUU1RBTVA6MjAxNDA0MTVUMDg1OTI4Wg0KRFRTVEFSVDoyMDEzMDQxMFQwODAwMDBaDQpTRVFVRU5DRTowDQpTVU1NQVJZO0xBTkdVQUdFPWZyOk9jY3VwZShlKQ0KVFJBTlNQOk9QQVFVRQ0KVUlEOmpEcVlDUlFwZmtpQ05TYmpIS05mVXc9PQ0KWC1NSUNST1NPRlQtQ0RPLUJVU1lTVEFUVVM6QlVTWQ0KRU5EOlZFVkVOVA0KQkVHSU46VkVWRU5UDQpEVEVORDoyMDEzMTIwMlQwOTAwMDBaDQpEVFNUQU1QOjIwMTQwNDE1VDA4NTkyOFoNCkRUU1RBUlQ6MjAxMzEyMDJUMDgwMDAwWg0KU0VRVUVOQ0U6MA0KU1VNTUFSWTtMQU5HVUFHRT1mcjpPY2N1cGUoZSkNClRSQU5TUDpPUEFRVUUNClVJRDp2T3NpbEI1MS8wNm1wVVVCcVZmYkxRPT0NClgtTUlDUk9TT0ZULUNETy1CVVNZU1RBVFVTOkJVU1kNCkVORDpWRVZFTlQNCkJFR0lOOlZFVkVOVA0KRFRFTkQ6MjAxNDAyMDhUMjMwMDAwWg0KRFRTVEFNUDoyMDE0MDQxNVQwODU5MjhaDQpEVFNUQVJUOjIwMTQwMjA3VDIzMDAwMFoNClNFUVVFTkNFOjANClNVTU1BUlk7TEFOR1VBR0U9ZnI6T2NjdXBlKGUpDQpUUkFOU1A6T1BBUVVFDQpVSUQ6UzFyQVI1Y1Jxa1Nyd0JCV2QyemVGUT09DQpYLU1JQ1JPU09GVC1DRE8tQlVTWVNUQVRVUzpCVVNZDQpFTkQ6VkVWRU5UDQpCRUdJTjpWRVZFTlQNCkRURU5EOjIwMTQwMjE3VDA5MDAwMFoNCkRUU1RBTVA6MjAxNDA0MTVUMDg1OTI4Wg0KRFRTVEFSVDoyMDE0MDIxN1QwODAwMDBaDQpTRVFVRU5DRTowDQpTVU1NQVJZO0xBTkdVQUdFPWZyOk9jY3VwZShlKQ0KVFJBTlNQOk9QQVFVRQ0KVUlEOkVGQXFDZEk3M0VHQk9zSUgwRkZON2c9PQ0KWC1NSUNST1NPRlQtQ0RPLUJVU1lTVEFUVVM6QlVTWQ0KRU5EOlZFVkVOVA0KQkVHSU46VkVWRU5UDQpEVEVORDoyMDE0MDMyMlQwOTAwMDBaDQpEVFNUQU1QOjIwMTQwNDE1VDA4NTkyOFoNCkRUU1RBUlQ6MjAxNDAzMjJUMDgwMDAwWg0KU0VRVUVOQ0U6MA0KU1VNTUFSWTtMQU5HVUFHRT1mcjpPY2N1cGUoZSkNClRSQU5TUDpPUEFRVUUNClVJRDpteG8vUExGYWwwdXB2ZUFIUmRoZEJRPT0NClgtTUlDUk9TT0ZULUNETy1CVVNZU1RBVFVTOkJVU1kNCkVORDpWRVZFTlQNCkJFR0lOOlZFVkVOVA0KRFRFTkQ6MjAxNDAzMzFUMjIwMDAwWg0KRFRTVEFNUDoyMDE0MDQxNVQwODU5MjhaDQpEVFNUQVJUOjIwMTQwMzMwVDIyMDAwMFoNClNFUVVFTkNFOjANClNVTU1BUlk7TEFOR1VBR0U9ZnI6T2NjdXBlKGUpDQpUUkFOU1A6T1BBUVVFDQpVSUQ6NCs1MFJpaWZTRTZlQm5KMnFleFZBZz09DQpYLU1JQ1JPU09GVC1DRE8tQlVTWVNUQVRVUzpCVVNZDQpFTkQ6VkVWRU5UDQpCRUdJTjpWRVZFTlQNCkRURU5EOjIwMTQwNDA2VDE0MzAwMFoNCkRUU1RBTVA6MjAxNDA0MTVUMDg1OTI4Wg0KRFRTVEFSVDoyMDE0MDQwNlQxMzMwMDBaDQpTRVFVRU5DRTowDQpTVU1NQVJZO0xBTkdVQUdFPWZyOk9jY3VwZShlKQ0KVFJBTlNQOk9QQVFVRQ0KVUlEOlgwdWtMR29OR1VTZzRPNVJlaFNubWc9PQ0KWC1NSUNST1NPRlQtQ0RPLUJVU1lTVEFUVVM6QlVTWQ0KRU5EOlZFVkVOVA0KQkVHSU46VkVWRU5UDQpEVEVORDoyMDE0MDQxM1QyMjAwMDBaDQpEVFNUQU1QOjIwMTQwNDE1VDA4NTkyOFoNCkRUU1RBUlQ6MjAxNDA0MTFUMjIwMDAwWg0KU0VRVUVOQ0U6MA0KU1VNTUFSWTtMQU5HVUFHRT1mcjpPY2N1cGUoZSkNClRSQU5TUDpPUEFRVUUNClVJRDpRRDdhZ0I5TnRVMjNqUUU2bmdiQitnPT0NClgtTUlDUk9TT0ZULUNETy1CVVNZU1RBVFVTOkJVU1kNCkVORDpWRVZFTlQNCkJFR0lOOlZFVkVOVA0KRFRFTkQ6MjAxNDA0MTdUMTMzMDAwWg0KRFRTVEFNUDoyMDE0MDQxNVQwODU5MjhaDQpEVFNUQVJUOjIwMTQwNDE3VDEyMzAwMFoNClNFUVVFTkNFOjANClNVTU1BUlk7TEFOR1VBR0U9ZnI6T2NjdXBlKGUpDQpUUkFOU1A6T1BBUVVFDQpVSUQ6QURPN1BYMU1lRUNZVkllU0NIMzh1dz09DQpYLU1JQ1JPU09GVC1DRE8tQlVTWVNUQVRVUzpCVVNZDQpFTkQ6VkVWRU5UDQpCRUdJTjpWRVZFTlQNCkRURU5EOjIwMTQwNDI4VDA4MDAwMFoNCkRUU1RBTVA6MjAxNDA0MTVUMDg1OTI4Wg0KRFRTVEFSVDoyMDE0MDQyOFQwNzAwMDBaDQpTRVFVRU5DRTowDQpTVU1NQVJZO0xBTkdVQUdFPWZyOk9jY3VwZShlKQ0KVFJBTlNQOk9QQVFVRQ0KVUlEOi9qTVVuUTNpUTArVmd0L24xNlIzYUE9PQ0KWC1NSUNST1NPRlQtQ0RPLUJVU1lTVEFUVVM6QlVTWQ0KRU5EOlZFVkVOVA0KQkVHSU46VkVWRU5UDQpEVEVORDoyMDE0MDQyOVQyMjAwMDBaDQpEVFNUQU1QOjIwMTQwNDE1VDA4NTkyOFoNCkRUU1RBUlQ6MjAxNDA0MjhUMjIwMDAwWg0KU0VRVUVOQ0U6MA0KU1VNTUFSWTtMQU5HVUFHRT1mcjpPY2N1cGUoZSkNClRSQU5TUDpPUEFRVUUNClVJRDowR3BFc0dDSUpFS212SFZOalg3Z1F3PT0NClgtTUlDUk9TT0ZULUNETy1CVVNZU1RBVFVTOkJVU1kNCkVORDpWRVZFTlQNCkJFR0lOOlZFVkVOVA0KRFRFTkQ6MjAxNDA1MTZUMDgwMDAwWg0KRFRTVEFNUDoyMDE0MDQxNVQwODU5MjhaDQpEVFNUQVJUOjIwMTQwNTE2VDA3MDAwMFoNClNFUVVFTkNFOjANClNVTU1BUlk7TEFOR1VBR0U9ZnI6T2NjdXBlKGUpDQpUUkFOU1A6T1BBUVVFDQpVSUQ6RE1LNGdUMEhqRUd2TW1rdDZWY2lGUT09DQpYLU1JQ1JPU09GVC1DRE8tQlVTWVNUQVRVUzpCVVNZDQpFTkQ6VkVWRU5UDQpCRUdJTjpWRVZFTlQNCkRURU5EOjIwMTQwNTE3VDA4MDAwMFoNCkRUU1RBTVA6MjAxNDA0MTVUMDg1OTI4Wg0KRFRTVEFSVDoyMDE0MDUxN1QwNzAwMDBaDQpTRVFVRU5DRTowDQpTVU1NQVJZO0xBTkdVQUdFPWZyOk9jY3VwZShlKQ0KVFJBTlNQOk9QQVFVRQ0KVUlEOjdFaW1BS3F6SVVLbW9hQ0U3VDhTekE9PQ0KWC1NSUNST1NPRlQtQ0RPLUJVU1lTVEFUVVM6QlVTWQ0KRU5EOlZFVkVOVA0KQkVHSU46VkVWRU5UDQpEVEVORDoyMDE0MDUxOFQwODAwMDBaDQpEVFNUQU1QOjIwMTQwNDE1VDA4NTkyOFoNCkRUU1RBUlQ6MjAxNDA1MThUMDcwMDAwWg0KU0VRVUVOQ0U6MA0KU1VNTUFSWTtMQU5HVUFHRT1mcjpPY2N1cGUoZSkNClRSQU5TUDpPUEFRVUUNClVJRDpERTJIMWVOOXNVdVp2b2tLUzB6ZHpnPT0NClgtTUlDUk9TT0ZULUNETy1CVVNZU1RBVFVTOkJVU1kNCkVORDpWRVZFTlQNCkJFR0lOOlZFVkVOVA0KRFRFTkQ6MjAxNDA1MjZUMDgwMDAwWg0KRFRTVEFNUDoyMDE0MDQxNVQwODU5MjhaDQpEVFNUQVJUOjIwMTQwNTI2VDA3MDAwMFoNClNFUVVFTkNFOjANClNVTU1BUlk7TEFOR1VBR0U9ZnI6T2NjdXBlKGUpDQpUUkFOU1A6T1BBUVVFDQpVSUQ6VkdvdFE5eUtsa0NvL0kwckd5MUJBdz09DQpYLU1JQ1JPU09GVC1DRE8tQlVTWVNUQVRVUzpCVVNZDQpFTkQ6VkVWRU5UDQpCRUdJTjpWRVZFTlQNCkRURU5EOjIwMTQwNTI3VDIyMDAwMFoNCkRUU1RBTVA6MjAxNDA0MTVUMDg1OTI4Wg0KRFRTVEFSVDoyMDE0MDUyNlQyMjAwMDBaDQpTRVFVRU5DRTowDQpTVU1NQVJZO0xBTkdVQUdFPWZyOk9jY3VwZShlKQ0KVFJBTlNQOk9QQVFVRQ0KVUlEOkQ2Nkxha2lTbUVlVm1kN3pWeCtKS0E9PQ0KWC1NSUNST1NPRlQtQ0RPLUJVU1lTVEFUVVM6QlVTWQ0KRU5EOlZFVkVOVA0KQkVHSU46VkVWRU5UDQpEVEVORDoyMDE0MDYyOFQwODAwMDBaDQpEVFNUQU1QOjIwMTQwNDE1VDA4NTkyOFoNCkRUU1RBUlQ6MjAxNDA2MjhUMDcwMDAwWg0KU0VRVUVOQ0U6MA0KU1VNTUFSWTtMQU5HVUFHRT1mcjpPY2N1cGUoZSkNClRSQU5TUDpPUEFRVUUNClVJRDp4V2RoQzR4ei9VS0MvKysxNStKN1Z3PT0NClgtTUlDUk9TT0ZULUNETy1CVVNZU1RBVFVTOkJVU1kNCkVORDpWRVZFTlQNCkJFR0lOOlZFVkVOVA0KRFRFTkQ6MjAxNDA2MjlUMDgwMDAwWg0KRFRTVEFNUDoyMDE0MDQxNVQwODU5MjhaDQpEVFNUQVJUOjIwMTQwNjI5VDA3MDAwMFoNClNFUVVFTkNFOjANClNVTU1BUlk7TEFOR1VBR0U9ZnI6T2NjdXBlKGUpDQpUUkFOU1A6T1BBUVVFDQpVSUQ6ZkVaZUMrZlFzVUtzWEZYbktsUEoxZz09DQpYLU1JQ1JPU09GVC1DRE8tQlVTWVNUQVRVUzpCVVNZDQpFTkQ6VkVWRU5UDQpCRUdJTjpWRVZFTlQNCkRURU5EOjIwMTQwNzEyVDA4MDAwMFoNCkRUU1RBTVA6MjAxNDA0MTVUMDg1OTI4Wg0KRFRTVEFSVDoyMDE0MDcxMlQwNzAwMDBaDQpTRVFVRU5DRTowDQpTVU1NQVJZO0xBTkdVQUdFPWZyOk9jY3VwZShlKQ0KVFJBTlNQOk9QQVFVRQ0KVUlEOklqT3NnWUxac0V1eTZCd2xGQkZZZVE9PQ0KWC1NSUNST1NPRlQtQ0RPLUJVU1lTVEFUVVM6QlVTWQ0KRU5EOlZFVkVOVA0KQkVHSU46VkVWRU5UDQpEVEVORDoyMDE0MDcxM1QwODAwMDBaDQpEVFNUQU1QOjIwMTQwNDE1VDA4NTkyOFoNCkRUU1RBUlQ6MjAxNDA3MTNUMDcwMDAwWg0KU0VRVUVOQ0U6MA0KU1VNTUFSWTtMQU5HVUFHRT1mcjpPY2N1cGUoZSkNClRSQU5TUDpPUEFRVUUNClVJRDpKajNjaDVtVmwwU1pFVkxlVEd6aTZBPT0NClgtTUlDUk9TT0ZULUNETy1CVVNZU1RBVFVTOkJVU1kNCkVORDpWRVZFTlQNCkJFR0lOOlZFVkVOVA0KRFRFTkQ6MjAxNDA4MTZUMDgwMDAwWg0KRFRTVEFNUDoyMDE0MDQxNVQwODU5MjhaDQpEVFNUQVJUOjIwMTQwODE2VDA3MDAwMFoNClNFUVVFTkNFOjANClNVTU1BUlk7TEFOR1VBR0U9ZnI6T2NjdXBlKGUpDQpUUkFOU1A6T1BBUVVFDQpVSUQ6Ti9JOVRINlB5a0dTS0xjV0Mvem1uZz09DQpYLU1JQ1JPU09GVC1DRE8tQlVTWVNUQVRVUzpCVVNZDQpFTkQ6VkVWRU5UDQpFTkQ6VkNBTEVOREFS";
	 var decodedData = window.atob(encodedData);
	Callicalendar(decodedData);*/
	
		var fileselect = $id("fileselect"),
		submitbutton = $id("submitbutton");
		// file select
		fileselect.addEventListener("change", FileSelectHandler, false);
		var xhr = new XMLHttpRequest();
		if (xhr.upload) 
		{
			// remove submit button
			submitbutton.style.display = "none";
			//remove button for ff os
			//fileselect.style.display = "none";
		}
	}

	// call initialization file
	if (window.File && window.FileList && window.FileReader) {
		Init();
	}

})();